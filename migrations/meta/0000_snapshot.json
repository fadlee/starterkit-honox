{
  "version": "6",
  "dialect": "sqlite",
  "id": "b0090d20-e61e-469f-abf8-5568ff16ef85",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "tables": {
    "courses": {
      "name": "courses",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "''"
        },
        "difficulty_level": {
          "name": "difficulty_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'beginner'"
        },
        "visibility": {
          "name": "visibility",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'public'"
        },
        "featured_image": {
          "name": "featured_image",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "''"
        },
        "pricing_model": {
          "name": "pricing_model",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'free'"
        },
        "categories_json": {
          "name": "categories_json",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'[]'"
        },
        "tags_json": {
          "name": "tags_json",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'[]'"
        },
        "author": {
          "name": "author",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "''"
        },
        "is_scheduled": {
          "name": "is_scheduled",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "schedule_date": {
          "name": "schedule_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_public_course": {
          "name": "is_public_course",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "max_students": {
          "name": "max_students",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "certificate": {
          "name": "certificate",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'draft'"
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "courses_slug_unique": {
          "name": "courses_slug_unique",
          "columns": [
            "slug"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "enrollment_completed_lessons": {
      "name": "enrollment_completed_lessons",
      "columns": {
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "lesson_id": {
          "name": "lesson_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "enrollment_completed_lessons_lesson_idx": {
          "name": "enrollment_completed_lessons_lesson_idx",
          "columns": [
            "lesson_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enrollment_completed_lessons_enrollment_id_enrollments_id_fk": {
          "name": "enrollment_completed_lessons_enrollment_id_enrollments_id_fk",
          "tableFrom": "enrollment_completed_lessons",
          "tableTo": "enrollments",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "enrollment_completed_lessons_lesson_id_lessons_id_fk": {
          "name": "enrollment_completed_lessons_lesson_id_lessons_id_fk",
          "tableFrom": "enrollment_completed_lessons",
          "tableTo": "lessons",
          "columnsFrom": [
            "lesson_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "enrollment_completed_lessons_enrollment_id_lesson_id_pk": {
          "columns": [
            "enrollment_id",
            "lesson_id"
          ],
          "name": "enrollment_completed_lessons_enrollment_id_lesson_id_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "enrollments": {
      "name": "enrollments",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "course_id": {
          "name": "course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "enrolled_at": {
          "name": "enrolled_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "enrollments_user_course_unique": {
          "name": "enrollments_user_course_unique",
          "columns": [
            "user_id",
            "course_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "enrollments_user_id_users_id_fk": {
          "name": "enrollments_user_id_users_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "enrollments_course_id_courses_id_fk": {
          "name": "enrollments_course_id_courses_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "courses",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "lesson_notes": {
      "name": "lesson_notes",
      "columns": {
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "lesson_id": {
          "name": "lesson_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "''"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "lesson_notes_enrollment_id_enrollments_id_fk": {
          "name": "lesson_notes_enrollment_id_enrollments_id_fk",
          "tableFrom": "lesson_notes",
          "tableTo": "enrollments",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lesson_notes_lesson_id_lessons_id_fk": {
          "name": "lesson_notes_lesson_id_lessons_id_fk",
          "tableFrom": "lesson_notes",
          "tableTo": "lessons",
          "columnsFrom": [
            "lesson_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "lesson_notes_enrollment_id_lesson_id_pk": {
          "columns": [
            "enrollment_id",
            "lesson_id"
          ],
          "name": "lesson_notes_enrollment_id_lesson_id_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "lessons": {
      "name": "lessons",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "topic_id": {
          "name": "topic_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "course_id": {
          "name": "course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "''"
        },
        "featured_image": {
          "name": "featured_image",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "''"
        },
        "video_url": {
          "name": "video_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "''"
        },
        "video_playback_hours": {
          "name": "video_playback_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "video_playback_minutes": {
          "name": "video_playback_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "video_playback_seconds": {
          "name": "video_playback_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "exercise_files_json": {
          "name": "exercise_files_json",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'[]'"
        },
        "is_preview": {
          "name": "is_preview",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "preview_type": {
          "name": "preview_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'free'"
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "lessons_topic_order_unique": {
          "name": "lessons_topic_order_unique",
          "columns": [
            "topic_id",
            "sort_order"
          ],
          "isUnique": true
        },
        "lessons_course_slug_unique": {
          "name": "lessons_course_slug_unique",
          "columns": [
            "course_id",
            "slug"
          ],
          "isUnique": true
        },
        "lessons_topic_order_idx": {
          "name": "lessons_topic_order_idx",
          "columns": [
            "topic_id",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "lessons_topic_id_topics_id_fk": {
          "name": "lessons_topic_id_topics_id_fk",
          "tableFrom": "lessons",
          "tableTo": "topics",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lessons_course_id_courses_id_fk": {
          "name": "lessons_course_id_courses_id_fk",
          "tableFrom": "lessons",
          "tableTo": "courses",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "sessions": {
      "name": "sessions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expires_at_ms": {
          "name": "expires_at_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "sessions_user_id_idx": {
          "name": "sessions_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "sessions_expires_at_ms_idx": {
          "name": "sessions_expires_at_ms_idx",
          "columns": [
            "expires_at_ms"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sessions_user_id_users_id_fk": {
          "name": "sessions_user_id_users_id_fk",
          "tableFrom": "sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "topics": {
      "name": "topics",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "course_id": {
          "name": "course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "topics_course_order_unique": {
          "name": "topics_course_order_unique",
          "columns": [
            "course_id",
            "sort_order"
          ],
          "isUnique": true
        },
        "topics_course_order_idx": {
          "name": "topics_course_order_idx",
          "columns": [
            "course_id",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "topics_course_id_courses_id_fk": {
          "name": "topics_course_id_courses_id_fk",
          "tableFrom": "topics",
          "tableTo": "courses",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "username_normalized": {
          "name": "username_normalized",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'user'"
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "users_username_normalized_unique": {
          "name": "users_username_normalized_unique",
          "columns": [
            "username_normalized"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    }
  },
  "views": {},
  "enums": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "indexes": {}
  }
}